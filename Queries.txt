/*1*/
select d.dnum, d.dname, d.MGRSSN, e.Fname
from Departments d, Employee e
where d.MGRSSN = e.SSN

/*2*/
select d.dname, p.Pname
from Departments d, Project p
where d.Dnum = p.Dnum

/*3*/
select d.Dependent_name, d.Sex, d.Bdate, e.Fname
from Dependent d, Employee e
where d.ESSN = e.SSN

/*4*/
select p.Pnumber, p.Pname, p.Plocation 
from Project p
where p.Plocation like '%Cairo%' or p.Plocation like '%Alex%'
/* or WHERE City = 'Cairo' OR City = 'Alex' */

/*5*/
select *
from Project p
where p.Pname like 'a%'

/*6*/
select e.Fname
from Employee e
where e.Dno = 30 and e.Salary between 1000 and 2000

/*7*/
select e.Fname
from Employee e
join works_for w
on w.essn = e.ssn
join Project p
on w.Pno = p.Pnumber
where e.Dno = 10 and w.Hours >= 10 and p.Pname = 'AL Rabwah'

/*8*/
select e.Fname, s.Fname
from Employee e 
join Employee s
on e.Superssn = s.SSN
where s.Fname = 'Kamel' and s.Lname = 'Mohamed'
/* or 
SELECT Fname, Lname
From Employee 
WHERE SSN IN (SELECT Superssn FROM Employee WHERE Fname = 'Kamel' AND Lname = 'Mohamed')
*/

/*9*/
select e.Fname employee, p.Pname project
from Employee e
join works_for w
on w.essn = e.ssn
join Project p
on w.Pno = p.Pnumber
order by p.Pname

/*10*/
select p.Pnumber, p.Pname project, d.Dname, e.Lname, e.Address, e.Bdate
from Project p
join works_for w
on w.Pno = p.Pnumber
join Employee e
on w.essn = e.ssn
join Departments d
on e.SSN = d.MGRSSN
where p.City = 'Cairo'

/* or
SELECT P.Pnumber, P.Dnum, E.Lname, E.Address, E.Bdate
FROM Departments D INNER JOIN Project P 
ON D.Dnum = P.Dnum
INNER JOIN Employee E 
ON E.SSN = D.MGRSSN
WHERE P.City = 'Cairo'
*/

/*11*/
select e.Fname, e.Lname, e.Address, e.Bdate, e.Salary, e.Sex, e.SSN
from Employee e, Departments d
where e.ssn = d.MGRSSN

/* or
SELECT *
FROM Employee
WHERE SSN IN (SELECT MGRSSN FROM Departments)
*/

/*12*/
select *
from Employee e
full outer join Dependent de
on e.SSN = de.ESSN

/* or
SELECT E., D.
FROM Employee E Full OUTER JOIN Dependent D
ON E.SSN = D.ESSN
*/


/***************************/
/*1*/
insert into Employee (Dno, SSN, Superssn, Salary) values (30, 102672, 112233, 3000)
select * from Employee

/*2*/
insert into Employee (Dno, SSN) values (30, 102660)
select * from Employee

/*3*/
update Employee
set Salary = Salary + (Salary*20/100)
where ssn = 102672

select * from Employee

